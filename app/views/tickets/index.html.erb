<!--
Name: Derek Kneisel & Adham Elbaz
Course: CSC 415 and BUS/MGT 375
Semester: Fall 2018
Instructor: Dr. Pulimood
Project name: Ticketman - Team 2 - Special Ops
Description: This project is to help Dave Zboray (from MSF) organize all the issues his employees have. An employee can
submit an issue which is then displayed in an issue table. Dave can view all issues to see what needs to be done. He can
edit, update, or delete these issues to let his employees know that their issues are taken care of.
Filename: index.html.erb
Description: This page displays all the users submitted tickets.
Last modified on: 12/03/2018
-->

<p id="notice"><%= notice %></p>

<h1 class="display-3">All Tickets</h1>

<!--Adds scrolling functionality-->

<table class="table" style="font-size: larger">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Department</th>
      <th scope="col">Summary</th>
      <th scope="col">Status</th>
      <th scope="col">Priority</th>
      <th scope="col">Options</th>
    </tr>
  </thead>

  <tbody>
  <% @tickets.each do |ticket| %>
      <tr>
        <td><%= truncate ticket.name %></td>
        <td ><%= truncate ticket.department %></td>
        <td><%=  truncate ticket.summary %></td>
        <td ><%= truncate ticket.status %></td>
        <td ><%= truncate ticket.priority %> </td>
        <td>
          <div class="btn-group">
          <div class="btn btn-primary" style="margin: 1px">
            <%= link_to 'Show', ticket, :class => "btn btn-primary" %>
          </div>
          <div class="btn btn-primary" style="margin: 1px">
            <%= link_to 'Edit', edit_ticket_path(ticket), :class => "btn btn-primary" %>
          </div>
          <div class="btn btn-primary" style="margin: 1px">
          <%= link_to 'Destroy', ticket, :class => "btn btn-primary", method: :delete, data: { confirm: 'Are you sure you want to delete ticket? Warning, Action cannot be reversed!' } %>
          </div>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

</div>


<!--<nav class="navbar navbar-light bg-light">-->
<!--  <form class="form-inline">-->
<!--    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
<!--    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
<!--  </form>-->
<!--</nav>-->


<br>
<div class="digg_pagination">
  <div class="page_info">
    <%= page_entries_info @posts %>
  </div>
  <%= will_paginate @posts, :container => false %>
</div>

<div class="btn btn-primary" >
  <%= link_to 'New Ticket',new_ticket_path(@ticket), :class => "btn btn-primary" %> |
</div>

